<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="gr.harokopio.coach.ui.MainController">

    <top>
        <Label text="Fitness Coach – Part 2.2" style="-fx-font-size: 18px; -fx-padding: 10;" />
    </top>

    <center>
        <TabPane>

            <!-- ================= Activities ================= -->
            <Tab text="Activities" closable="false">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>

                    <HBox spacing="10">
                        <Button text="Load TCX Files" onAction="#onLoadFiles"/>
                        <Button text="Load sample1.tcx" onAction="#onLoadSample1"/>
                        <Button text="Load sample2.tcx" onAction="#onLoadSample2"/>
                        <Button text="Load sample3.tcx" onAction="#onLoadSample3"/>
                    </HBox>

                    <TableView fx:id="activitiesTable" prefHeight="420">
                        <columns>
                            <TableColumn text="Sport" prefWidth="120">
                                <cellValueFactory>
                                    <PropertyValueFactory property="sport"/>
                                </cellValueFactory>
                            </TableColumn>

                            <TableColumn text="Start" prefWidth="160">
                                <cellValueFactory>
                                    <PropertyValueFactory property="start"/>
                                </cellValueFactory>
                            </TableColumn>

                            <TableColumn text="Duration" prefWidth="110">
                                <cellValueFactory>
                                    <PropertyValueFactory property="duration"/>
                                </cellValueFactory>
                            </TableColumn>

                            <TableColumn text="Distance (km)" prefWidth="120">
                                <cellValueFactory>
                                    <PropertyValueFactory property="distanceKm"/>
                                </cellValueFactory>
                            </TableColumn>

                            <TableColumn text="Avg Speed (km/h)" prefWidth="140">
                                <cellValueFactory>
                                    <PropertyValueFactory property="avgSpeedKmh"/>
                                </cellValueFactory>
                            </TableColumn>

                            <TableColumn text="Avg HR" prefWidth="90">
                                <cellValueFactory>
                                    <PropertyValueFactory property="avgHr"/>
                                </cellValueFactory>
                            </TableColumn>

                            <TableColumn text="Calories" prefWidth="110">
                                <cellValueFactory>
                                    <PropertyValueFactory property="caloriesSimple"/>
                                </cellValueFactory>
                            </TableColumn>
                        </columns>
                    </TableView>

                    <Label fx:id="totalsLabel" text="Totals: -" />
                    <Label fx:id="statusLabel" text="Ready."/>
                </VBox>
            </Tab>

            <!-- ================= Profile ================= -->
            <Tab text="Profile &amp; Calories" closable="false">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>

                    <GridPane hgap="10" vgap="10">
                        <columnConstraints>
                            <ColumnConstraints minWidth="120"/>
                            <ColumnConstraints minWidth="220"/>
                            <ColumnConstraints minWidth="120"/>
                        </columnConstraints>

                        <Label text="Weight (kg):" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                        <TextField fx:id="weightField" promptText="e.g. 67.8"
                                   GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="Age:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                        <TextField fx:id="ageField" promptText="e.g. 22"
                                   GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="Sex:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                        <ChoiceBox fx:id="sexChoice" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Label text="Calories method:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                        <ChoiceBox fx:id="methodChoice" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                        <Button text="Save" onAction="#onSaveProfile"
                                GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                    </GridPane>

                    <Label fx:id="profileStatusLabel" text="Saved profile: -" />
                    <Label text="Simple: C = μ * weight * durationHours. HR-based: uses avg HR + age + sex + weight."/>
                </VBox>
            </Tab>

            <!-- ================= Daily Goal ================= -->
            <Tab text="Daily Goal" closable="false">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>

                    <HBox spacing="10">
                        <Label text="Daily goal (kcal):"/>
                        <TextField fx:id="dailyGoalField" promptText="e.g. 500" prefWidth="140"/>
                        <Button text="Apply" onAction="#onApplyDailyGoal"/>
                        <Label fx:id="dailyGoalStatusLabel" text="-" />
                    </HBox>

                    <TableView fx:id="dailyGoalTable" prefHeight="420">
                        <columns>
                            <TableColumn text="Date" prefWidth="140">
                                <cellValueFactory>
                                    <PropertyValueFactory property="date"/>
                                </cellValueFactory>
                            </TableColumn>

                            <TableColumn text="Calories" prefWidth="140">
                                <cellValueFactory>
                                    <PropertyValueFactory property="calories"/>
                                </cellValueFactory>
                            </TableColumn>

                            <TableColumn text="Goal" prefWidth="120">
                                <cellValueFactory>
                                    <PropertyValueFactory property="goal"/>
                                </cellValueFactory>
                            </TableColumn>

                            <TableColumn text="Achieved" prefWidth="120">
                                <cellValueFactory>
                                    <PropertyValueFactory property="achieved"/>
                                </cellValueFactory>
                            </TableColumn>

                            <TableColumn text="Remaining" prefWidth="140">
                                <cellValueFactory>
                                    <PropertyValueFactory property="remaining"/>
                                </cellValueFactory>
                            </TableColumn>
                        </columns>
                    </TableView>

                </VBox>
            </Tab>

        </TabPane>
    </center>

</BorderPane>

